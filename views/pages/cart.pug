extends ../layouts/main.pug

block content
    div(data-controller="cart")
        div(class="flex justify-center mt-10" )
            div(class="")
                table
                    tr
                        th(class="mx-4") image
                        th name
                        th price
                        th quality
                        th
                    each product in cart
                        tr
                            //td=product.images[0]
                            // TODO: Show product images
                            td
                                img(class="w-32 h-32" src="https://upload.wikimedia.org/wikipedia/en/f/f1/Tycho_-_Epoch.jpg")
                            td=product.name
                            td=product.price
                            td=product.quality
                            //input(class="w-20 border px-2" type="number" value=product.quality min="0" max=product.quality)
                            td
                                div(class="cursor-pointer"  data-action="click->cart#deleteItem")
                                    i(class="text-xl far fa-times-circle hover:text-gray-600" data-item=product.id)

        div(class="fixed bottom-0 w-full shadow-inner")
            div(class="flex justify-between")
                div(class="self-center ml-16")
                    form(method="GET" action="/user_info")
                        input(type="submit" value="Change info" class="bg-gray-700 text-white tracking-wider py-2 px-4 uppercase rounded hover:bg-gray-500 transition duration-300 ease-out cursor-pointer")
                div(class="flex justify-end py-4 px-4")
                    div(class="mr-12 self-center")
                        span(id="price" class="text-xl font-blod tracking-wider") $#{totalPrice}
                    div(class="mr-20")
                        button(data-action="cart#checkout" class="py-2 px-4 uppercase bg-green-600 rounded text-white hover:bg-green-500 transition duration-300 ease-out") Checkout
